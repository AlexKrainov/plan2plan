
@{
    ViewBag.Title = "Восстановление пароля";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script>
    $(function () {
        let mail = localStorage.getItem("email");
        $("input[name=mail]").val(mail);
    });

</script>
<div class="container">
    <div class="row" style="position: relative;padding: 1rem;margin: 1rem -15px 0;border-width: .2rem 0 0;">
        <div class="col-md-8 order-md-1">
            <h4 class="mb-3">Восстановление пароля</h4>

            @using (Ajax.BeginForm("ForgotPassword", "User", new AjaxOptions
            {
                LoadingElementId = "wait_svg",
                HttpMethod = "Post",
                UpdateTargetId = "result_ajax",
                InsertionMode = InsertionMode.Replace
            }, new { @class = "form" }))
            {
                <div class="row">
                    <div class="col-md-8 mb-3">
                        <input type="email" class="form-control" name="mail" placeholder="Введите почту" autofocus required />
                        <button type="submit" class="btn btn-outline-primary" style="float: right;margin-top: 5px;">Отправить</button>
                        <small id="emailHelp" class="form-text text-muted">Вам на почту придет ссылка на восстановление пароля.</small>
                        <div id="wait_svg" style="width: 104px; display:none;">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
                                <circle cx="50" cy="50" fill="none" stroke-linecap="round" r="20" stroke-width="2" stroke="#656565" stroke-dasharray="31.41592653589793 31.41592653589793" transform="rotate(120 50 50)">
                                    <animateTransform attributeName="transform" type="rotate" calcMode="linear" values="0 50 50;360 50 50" keyTimes="0;1" dur="1s" begin="0s" repeatCount="indefinite">
                                    </animateTransform>
                                </circle>
                                <circle cx="50" cy="50" fill="none" stroke-linecap="round" r="17" stroke-width="2" stroke="#06e763" stroke-dasharray="26.703537555513243 26.703537555513243" stroke-dashoffset="26.703537555513243" transform="rotate(-120 50 50)">
                                    <animateTransform attributeName="transform" type="rotate" calcMode="linear" values="0 50 50;-360 50 50" keyTimes="0;1" dur="1s" begin="0s" repeatCount="indefinite">
                                    </animateTransform>
                                </circle>
                            </svg>
                        </div>
                        @*
                                svg from css
                                <style>
                                .svg {
                                    background-image: url("data:image/svg+xml;charset=utf8,%3C?xml version='1.0' standalone='no'?%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 20010904//EN' 'http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd'%3E%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' preserveAspectRatio='xMidYMid'%3E%3Ccircle cx='50' cy='50' fill='none' stroke-linecap='round' r='20' stroke-width='2' stroke='%23656565' stroke-dasharray='31.41592653589793 31.41592653589793' transform='rotate(120 50 50)'%3E%3CanimateTransform attributeName='transform' type='rotate' calcMode='linear' values='0 50 50;360 50 50' keyTimes='0;1' dur='1s' begin='0s' repeatCount='indefinite'%3E%3C/animateTransform%3E%3C/circle%3E%3Ccircle cx='50' cy='50' fill='none' stroke-linecap='round' r='17' stroke-width='2' stroke='%2306e763' stroke-dasharray='26.703537555513243 26.703537555513243' stroke-dashoffset='26.703537555513243' transform='rotate(-120 50 50)'%3E%3CanimateTransform attributeName='transform' type='rotate' calcMode='linear' values='0 50 50;-360 50 50' keyTimes='0;1' dur='1s' begin='0s' repeatCount='indefinite'%3E%3C/animateTransform%3E%3C/circle%3E%3C/svg%3E");
                                }
                            </style>*@

                        <div style="margin-top: 25px;">
                            <div id="result_ajax" class="card-body"></div>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</div>


